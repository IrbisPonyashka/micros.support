(function(){"use strict";var t={8591:function(t,e,r){var n=r(9242),o=r(3396);const s={class:"auth__page"};function i(t,e,r,n,i,a){const u=(0,o.up)("AuthForm"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(l,null,{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o.Wm)(u,{msg:"Вход в систему"})])])),_:1})}var a=r(899),u={name:"HomeView",components:{AuthForm:a["default"]}},l=r(89);const c=(0,l.Z)(u,[["render",i]]);var d=c,p=r(2483);const f=[{path:"/",name:"AuthForm",component:()=>Promise.resolve().then(r.bind(r,899))}],m=(0,p.p7)({history:(0,p.PO)(""),routes:f});var h=m,g=(r(2801),r(65)),v=(0,g.MT)({state:{userData:{request:null}},getters:{getUserData(t){return t.userData}},mutations:{userDataMutation(t,e){return t.userData=e}},actions:{getAuth({commit:t},e){let r=e.login,n=e.password,o=new Headers;o.append("Authorization","Basic "+btoa(`${r}:${n}`));let s={method:"POST",headers:o,redirect:"follow"};fetch("https://micros.uz/it/solutions_our/micros.tech.support/ajax.php?AUTH=true",s).then((t=>t.text())).then((e=>{console.log(JSON.parse(e)),t("userDataMutation",JSON.parse(e))})).catch((t=>console.log("error",t)))}},modules:{}});const _=document.createElement("script");_.src="//api.bitrix24.com/api/v1/",document.head.appendChild(_),(0,n.ri)(d).use(v).use(h).mount("#app")},899:function(t,e,r){r.r(e),r.d(e,{default:function(){return C}});var n=r(3396),o=r(7139),s=r(9242),i=r.p+"img/micros.4e743186.svg";const a={class:"container"},u={class:"form__auth-wrapp"},l={class:"form__auth-header"},c=(0,n._)("img",{class:"form__auth-logo",src:i},null,-1),d={class:"form__auth-title"},p={key:0,class:"ui-form-row"},f={class:"ui-form-content"},m={class:"ui-alert ui-alert-danger ui-alert-icon-danger"},h=(0,n._)("span",{class:"ui-alert-message"},[(0,n._)("strong",null,"Введите корректные данные")],-1),g={class:"ui-form-row"},v={class:"ui-form-content"},_={class:"ui-form-row"},w={class:"ui-form-content"},b={class:"ui-form-row"},y={class:"ui-form-content"},D=["disabled"],O={key:1,class:"messge_box"},S={class:"ui-form-row"},k={class:"ui-form-content"};function x(t,e,r,i,x,j){return(0,n.wg)(),(0,n.iD)("div",a,[t.getUserData.request?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("form",{key:0,class:"form__auth",onSubmit:e[6]||(e[6]=(...t)=>j.formHandler&&j.formHandler(...t))},[(0,n._)("div",u,[(0,n._)("span",l,[c,(0,n._)("h3",d,(0,o.zw)(r.msg),1)]),x.fieldError?((0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("div",f,[(0,n._)("div",m,[h,(0,n._)("span",{class:"ui-alert-close-btn",onClick:e[0]||(e[0]=(...t)=>j.setStatus&&j.setStatus(...t))})])])])):(0,n.kq)("",!0),(0,n._)("div",g,[(0,n._)("div",v,[(0,n._)("div",{class:(0,o.C_)(["ui-ctl ui-ctl-textbox ui-ctl-w100",{"ui-ctl-warning":x.fieldError}])},[(0,n.wy)((0,n._)("input",{class:"ui-ctl-element",type:"text",placeholder:"Login","onUpdate:modelValue":e[1]||(e[1]=t=>x.login=t),onInput:e[2]||(e[2]=(...t)=>j.setStatus&&j.setStatus(...t))},null,544),[[s.nr,x.login]])],2)])]),(0,n._)("div",_,[(0,n._)("div",w,[(0,n._)("div",{class:(0,o.C_)(["ui-ctl ui-ctl-textbox ui-ctl-w100",{"ui-ctl-warning":x.fieldError}])},[(0,n.wy)((0,n._)("input",{class:"ui-ctl-element",type:"password",placeholder:"Password","onUpdate:modelValue":e[3]||(e[3]=t=>x.password=t),onInput:e[4]||(e[4]=(...t)=>j.setStatus&&j.setStatus(...t))},null,544),[[s.nr,x.password]])],2)])]),(0,n._)("div",b,[(0,n._)("div",y,[(0,n._)("button",{class:(0,o.C_)(["ui-btn ui-btn-round",{"ui-btn-primary":!1}]),disabled:x.btnDisable,type:"submit",onClick:e[5]||(e[5]=(...e)=>t.checkstatus&&t.checkstatus(...e))}," Авторизация",8,D)])])])],32)),t.getUserData.request?((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",S,[(0,n._)("div",k,[(0,n._)("pre",null,(0,o.zw)(t.getUserData),1)])])])):(0,n.kq)("",!0)])}var j=r(65),A={name:"AuthForm",props:{msg:String},data(){return{login:"",password:"",fieldError:!1,btnDisable:!0}},methods:{...(0,j.nv)(["getAuth"]),setStatus(t){"click"==t.type&&(this.login="",this.password=""),this.fieldError=!1},formHandler(t){t.preventDefault(),this.getAuth({login:this.login,password:this.password})}},computed:{...(0,j.Se)(["getUserData"])},watch:{getUserData:{immediate:!0,handler(t,e){!1===t.request?this.fieldError=!0:!0===t.request&&BX24.init((function(){BX24.callMethod("app.option.set",{options:{login:t.data.LOGIN,password:this.password,userID:t.data.ID}},(function(t){t.error()&&alert("Описание ошибки: "+t.error())}))}))}},login:function(t){""!=this.login&&""!=this.password&&(this.btnDisable=!1)},password:function(t){""!=this.login&&""!=this.password&&(this.btnDisable=!1)}}},U=r(89);const q=(0,U.Z)(A,[["render",x]]);var C=q}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,s){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],s=t[c][2];for(var a=!0,u=0;u<n.length;u++)(!1&s||i>=s)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(a=!1,s<i&&(i=s));if(a){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,o,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p=""}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,i=n[0],a=n[1],u=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(u)var c=u(r)}for(e&&e(n);l<i.length;l++)s=i[l],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(c)},n=self["webpackChunkmicros_support"]=self["webpackChunkmicros_support"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(8591)}));n=r.O(n)})();
//# sourceMappingURL=app.f8637aae.js.map